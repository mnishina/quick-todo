# 超短期TODOリスト Webアプリ 設計仕様書

## プロダクト概要

### コンセプト
「買い物前の5分で使える、シンプルで高速なTODOリスト」

### ターゲットユーザー
- 買い物前にリストを作りたい人
- 短時間のタスク整理をしたい人
- 複雑な機能は不要で、すぐに使い始めたい人
- スマートフォンで頻繁にタスク管理をする人

### 価値提案
- **起動が早い**: ページを開いた瞬間から入力可能
- **操作が簡単**: 直感的なUI、最小限の操作
- **スマホ最適化**: 入力エリアを下部に配置、親指操作に最適化
- **データ永続化**: ブラウザを閉じても内容が残る
- **オフライン対応**: ネット環境に依存しない

---

## 機能仕様

### 核心機能
1. **アイテム追加**
   - Enterキーまたは「+」ボタンでアイテム追加
   - 空文字の場合は追加しない
   - **カンマ区切り一括登録**: 「牛乳,パン,卵」で3つのアイテムを同時追加
   - 各アイテムの前後空白文字は自動トリミング

2. **アイテム完了**
   - チェックボックスクリックで完了/未完了切り替え
   - 完了アイテムは打ち消し線 + 薄いグレー表示

3. **アイテム削除**
   - 各アイテムに削除ボタン（×）

4. **データ永続化**
   - localStorage使用
   - リアルタイム保存（操作のたびに自動保存）

### 補助機能
1. **リスト初期化**
   - 「全削除」ボタンで全アイテム削除
   - 確認ダイアログあり




3. **入力支援**
   - プレースホルダーで一括登録のヒント表示
   - 「牛乳,パン,卵...（カンマ区切りで一括追加）」

4. **キーボードショートカット**
   - Enter: 新規アイテム追加
   - Ctrl+A: 全選択（テキスト入力時）

---

## 技術仕様

### フロントエンド技術スタック
- **HTML5**: マークアップ
- **CSS3**: モダンレイアウト（Grid/Flexbox）、CSS Variables
- **Vanilla JavaScript (ES6+)**: フレームワーク不使用、クラス構文
- **localStorage API**: データ永続化
- **PWA**: Service Worker、Web App Manifest

### 対応ブラウザ（モバイルファースト）
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

### PWA対応
- **Service Worker**: オフライン対応
- **Web App Manifest**: ホーム画面追加対応
- **Cache API**: 静的リソースキャッシュ

---

## UI/UX設計

### レイアウト構成
```
┌─────────────────────────────────┐
│ [全削除]                        │ ← 全削除ボタン（タスク登録時のみ表示）
├─────────────────────────────────┤
│ ☐ 牛乳を買う              [×]   │ ← TODOアイテム
│ ☑ パンを買う              [×]   │
│ ☐ 卵を買う                [×]   │
│                                 │
│                                 │
├─────────────────────────────────┤
│ [牛乳,パン,卵...（カンマ区切り）] [+]│ ← 入力エリア（固定）
└─────────────────────────────────┘
```

### デザインガイドライン
**カラーパレット**
- プライマリー: #000000 (黒)
- セカンダリー: #666666 (グレー)
- 成功: #000000 (黒)
- 危険: #000000 (黒)
- 背景: #ffffff (白)

**タイポグラフィ**
- フォント: system-ui, -apple-system, sans-serif
- メイン: 16px/1.5
- ヘッダー: 24px/1.2 (太字)
- 小さいテキスト: 14px/1.4

**スペーシング**
- 基本単位: 8px
- パディング: 16px
- マージン: 24px

---

## データ設計

### localStorage スキーマ
```javascript
// キー: 'quickTodoList'
{
  "items": [
    {
      "id": "uuid-string",
      "text": "牛乳を買う",
      "completed": false,
      "createdAt": "2025-01-15T10:30:00.000Z"
    }
  ],
  "lastUpdated": "2025-01-15T10:30:00.000Z"
}
```

### データ操作API設計
```javascript
class TodoStorage {
  static load()         // データ読み込み
  static save(data)     // データ保存
  static addItem(text)  // 単一アイテム追加
  static addItems(textArray) // 複数アイテム一括追加
  static updateItem(id, updates) // アイテム更新
  static deleteItem(id) // アイテム削除
  static clearAll()     // 全削除
}

// 入力処理ユーティリティ
class InputProcessor {
  static parseInput(text) // カンマ区切り文字列を配列に変換
  static sanitizeItem(text) // 前後空白削除＆バリデーション
}
```

---

## 開発計画

### フェーズ1: MVP開発 (1-2日)
1. **HTML構造作成**
   - 基本レイアウト

2. **CSS実装**
   - レスポンシブデザイン
   - アニメーション効果

3. **JavaScript核心機能**
   - アイテム追加/削除/完了
   - localStorage連携

### フェーズ2: 機能強化 (1日)
1. **UX改善**
   - キーボードショートカット
   - 確認ダイアログ
   - エラーハンドリング

2. **PWA対応**
   - Service Worker
   - Web App Manifest

3. **開発環境最適化**
   - キャッシュ無効化設定
   - CORS対応
   - 開発用スクリプト追加

### フェーズ3: 最適化・テスト (半日)
1. **パフォーマンス最適化**
   - コード最小化
   - 画像最適化
   - キャッシュ戦略

2. **クロスブラウザテスト**
   - 主要ブラウザ動作確認
   - モバイル端末テスト

---

## ファイル構成

```
quick-todo-app/
├── index.html          # メインHTML
├── styles/
│   └── main.css       # メインCSS（CSS Variables対応）
├── scripts/
│   ├── main.js        # メインJS（クラス構文）
│   └── storage.js     # データ管理
├── sw.js              # Service Worker（PWA対応）
├── manifest.json      # PWA Manifest
├── package.json       # 依存関係・スクリプト定義
├── icons/            # アプリアイコン
│   └── icon-192.svg  # SVGアイコン
└── README.md         # 開発ドキュメント
```

---

## パフォーマンス要件

- **初期読み込み時間**: < 1秒
- **操作レスポンス**: < 100ms
- **ファイルサイズ合計**: < 50KB
- **Lighthouse スコア**: 90点以上

---

## セキュリティ・プライバシー

### データ保護
- データはすべてローカル保存
- 外部送信なし
- HTTPS必須（本番環境）

### セキュリティ対策
- XSS対策（innerHTML使用禁止）
- CSP（Content Security Policy）設定
- 入力値サニタイゼーション

---

## 運用・保守

### デプロイメント
- 静的ファイルホスティング（Netlify, Vercel等）
- CDN配信推奨
- HTTPS設定必須

### 開発環境
- **開発サーバー**: `npm run dev`（キャッシュ無効化、CORS対応）
- **本番サーバー**: `npm start`（標準設定）
- **ポート**: 3000番

### 監視・分析
- Google Analytics（オプション）
- エラー監視（Sentry等）
- Core Web Vitals計測

### アップデート戦略
- Service Workerによる自動更新
- バージョン管理（semantic versioning）
- 後方互換性維持

---

## 成功指標（KPI）

### 利用指標
- 日次アクティブユーザー数
- セッション時間
- アイテム作成数

### パフォーマンス指標
- ページ読み込み時間
- 操作レスポンス時間
- エラー発生率

### 満足度指標
- ユーザーフィードバック
- リピート利用率
- PWAインストール率